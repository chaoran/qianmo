var new_comment = $('input[type="hidden"][value="<%= escape_javascript(params[:authenticity_token]) %>"]').closest('.new-comment');
new_comment.before("<%= escape_javascript(render :partial => 'show', :locals => {:comment => @comment}) %>").hide().slideDown();
new_comment.find("input[type='text']").val("");
new_comment.find("#fake-input").show();
new_comment.find("form").hide();

<% for user in @comment.mention_events.map{|e|e.receiver}.uniq %>
  <%= render :partial => "mention_events/update", :locals => {:user => user} %>
<% end %>